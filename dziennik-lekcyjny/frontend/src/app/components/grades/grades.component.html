<h2>Wpisywanie Ocen</h2>

<h3>Dodaj Formę Sprawdzania Wiedzy</h3>
<form (submit)="addForm(); $event.preventDefault()">
  <label for="typ">Typ:</label>
  <select id="typ" [(ngModel)]="newForm.typ" name="typ" required>
    <option value="">-- Wybierz typ --</option>
    <option value="kartkowka">Kartkówka</option>
    <option value="sprawdzian">Sprawdzian</option>
    <option value="odpowiedz_ustna">Odpowiedź Ustna</option>
    <option value="inna">Inna</option>
  </select>
  <br>
  <label for="waga">Waga:</label>
  <input type="number" id="waga" [(ngModel)]="newForm.waga" name="waga" required min="1">
  <br>
  <button type="submit">Dodaj Formę</button>
</form>

<h3>Dodaj Ocenę</h3>
<form (submit)="addGrade(); $event.preventDefault()">
  <label for="uczen_id">Uczeń:</label>
  <select id="uczen_id" [(ngModel)]="newGrade.uczen_id" name="uczen_id" required>
    <option value="">-- Wybierz ucznia --</option>
    <option *ngFor="let student of students" [value]="student.id">{{ student.imie }} {{ student.nazwisko }}</option>
  </select>
  <br>
  <label for="forma_sprawdzania_id">Forma Sprawdzania:</label>
  <select id="forma_sprawdzania_id" [(ngModel)]="newGrade.forma_sprawdzania_id" name="forma_sprawdzania_id" required>
    <option value="">-- Wybierz formę --</option>
    <option *ngFor="let form of forms" [value]="form.id">{{ form.typ }} (Waga: {{ form.waga }})</option>
  </select>
  <br>
  <label for="wartosc">Ocena:</label>
  <input type="number" id="wartosc" [(ngModel)]="newGrade.wartosc" name="wartosc" required min="1" max="6">
  <br>
  <label for="data">Data:</label>
  <input type="date" id="data" [(ngModel)]="newGrade.data" name="data" required>
  <br>
  <button type="submit">Dodaj Ocenę</button>
</form>

<h3>Oblicz Średnią</h3>
<form (submit)="calculateAverage(); $event.preventDefault()">
  <label for="uczen_id_avg">Uczeń:</label>
  <select id="uczen_id_avg" [(ngModel)]="selectedStudentId" name="uczen_id_avg" required>
    <option value="">-- Wybierz ucznia --</option>
    <option *ngFor="let student of students" [value]="student.id">{{ student.imie }} {{ student.nazwisko }}</option>
  </select>
  <br>
  <button type="submit">Oblicz Średnią</button>
</form>
<p *ngIf="average !== null">Średnia ocen: {{ average | number:'1.2-2' }}</p>
